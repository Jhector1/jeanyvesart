<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title th:text="${customerDto.getFullName()}"></title>
      <link rel="stylesheet" href="http://localhost:7272/user_profile.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>-->
<!--&lt;!&ndash;    <script th:src="@{/js_file/header.js}" type="module" defer></script>&ndash;&gt;-->
<!--    <script th:src="@{/js_file/authenticated/authenticated_header.js}" type="module" defer></script>-->
<!--    <script th:src="@{/js_file/authenticated/userProfile.js}" type="module" defer></script>-->
<!--    <script th:src="@{/js_file/loader.js}" type="module" defer></script>-->

<!--    <script th:src="@{/js_file/footer.js}" type="module" defer></script>-->
    <script src="http://localhost:7272/user_profile.bundle.js" type="module" defer></script>

</head>
<body>

<!--<div th:replace="~{module/dryTemplate.html :: spinner(message='Updating...', dynamicClass='loader')}"></div>-->
<!--<div th:replace="~{module/dryTemplate.html :: spinner(message='Updating...', dynamicClass='loading-checkout')}"></div>-->

<header  th:replace="~{header.html :: header-component}" ></header>
<img src="" alt=""/>

<!--<ul class="nav nav-tabs">-->
<!--    <li class="nav-item">-->
<!--        <a class="nav-link active" aria-current="page" href="#">Active</a>-->
<!--    </li>-->
<!--    <li class="nav-item">-->
<!--        <a class="nav-link" href="#">Link</a>-->
<!--    </li>-->
<!--    <li class="nav-item">-->
<!--        <a class="nav-link" href="#">Link</a>-->
<!--    </li>-->
<!--    <li class="nav-item">-->
<!--        <a class="nav-link disabled">Disabled</a>-->
<!--    </li>-->
<!--</ul>-->
<section th:replace="~{authenticated/authenticated_nav.html :: auth-nav}" >
</section>

<article class="profile-info user-info">
    <h2>Define your account information</h2>
    <h4>Edit information you wish to update</h4>

    <h4> Account information</h4>
    <form id="userInfoForm">
        <section>
            <div class="form-floating mb-3 mt-3">
                <input type="text" class="form-control" th:value="${customerDto.getFullName()}" id="fullname2" placeholder="Enter First Name" name="fullName">
                <label for="fullname2">Full Name</label>
            </div>
<!--            <div class="form-floating mb-3 mt-3">-->
<!--                <input type="text" class="form-control" id="lastname" placeholder="Enter Last Name" name="lastname">-->
<!--                <label for="lastname">Last Name</label>-->
<!--            </div>-->

        </section>
        <section>
            <div class="form-floating mb-3 mt-3">
                <input type="text" th:value="${customerDto.getTelephone()?:''}" class="form-control" id="phone-number" placeholder="Enter Phone Number"
                       name="telephone">
                <label for="phone-number">Phone Number</label>
            </div>
            <div class="form-floating mb-3 mt-3">
                <input type="email" th:value="${customerDto.getEmail()}" class="form-control" id="email" placeholder="Enter email" name="email">
                <label for="email">Email</label>
            </div>
        </section>
        <input type="submit" value="Update" class="btn btn-secondary btn-lg">

    </form>

    <form>
        <h1>Change Password</h1>
        <section>
            <div class="form-floating mb-3 mt-3">
                <input type="text" class="form-control" id="current-password" placeholder="Enter Current Password"
                       name="current-password">
                <label for="current-password">Current Password</label>
            </div>
            <div class="form-floating mb-3 mt-3">
                <input type="text" class="form-control" id="new-password" placeholder="Enter New Password"
                       name="new-password">
                <label for="new-password">New Password</label>
            </div>
            <div class="form-floating mb-3 mt-3">
                <input type="text" class="form-control" id="confirm-new-password" placeholder="Confirm Password"
                       name="confirm-password">
                <label for="confirm-new-password">Confirm New Password</label>
            </div>
        </section>
        <input type="submit" value="Update" class="btn btn-secondary btn-lg">
    </form>

    <form id="addressForm">
        <h1>Change Address</h1>
        <section>
            <div class="form-floating mb-3 mt-3">
                <input type="text" class="form-control" th:value="${customerDto.getAddress()?.getFullname()} ?: ''" id="full-name" placeholder="Enter Full Name" name="fullName">
                <label for="full-name">Full Name</label>
            </div>
            <div class="form-floating mb-3 mt-3">
                <input type="text" class="form-control" th:value="${customerDto.getAddress()?.getStreet() ?: ''}" id="address" placeholder="Enter Address" name="street">
                <label for="address">Address</label>
            </div>
        </section>
        <section>
            <div class="sibling-field">
                <div class="form-floating mb-3 mt-3">
                    <input type="text" th:value="${customerDto.getAddress()?.getApartment() ?: ''}" class="form-control" id="apartment" placeholder="Enter Your Apartmnt"
                           name="apartment">
                    <label for="apartment">Apartment</label>
                </div>

                <div class="form-floating mb-3 mt-3">
                    <input type="text" th:value="${customerDto.getAddress()?.getState() ?: ''}" class="form-control" id="state" placeholder="Enter State" name="state">
                    <label for="state">State</label>
                </div>
            </div>
            <div class="form-floating mb-3 mt-3">
                <input type="text" th:value="${customerDto.getAddress()?.getZip() ?: ''}" class="form-control" id="zip-code" placeholder="Enter Zip Code" name="zip">
                <label for="zip-code">Zip Code</label>
            </div>
        </section>
        <section>
            <div class="form-floating mb-3 mt-3">
                <input type="text" th:value="${customerDto.getAddress()?.getCity() ?: ''}" class="form-control" id="city" placeholder="Enter City" name="city">
                <label for="city">City</label>
            </div>
            <div th:replace="~{module/dryTemplate.html :: country-field(field_id='country-id')}">

            </div>
        </section>
        <input type="submit" value="Update" class="btn btn-secondary btn-lg">
    </form>
</article>


<article class="profile-info card-update">
    <h1>Define your payment method</h1>
    <h4>Enter your credit card information to make your purchases.

        WE ACCEPT
    </h4>
    <form>
        Card Details :<br>
        <section>
            <div class="form-floating mb-3 mt-3">
                <input type="text" class="form-control" id="name-on-card" placeholder="Enter card name"
                       name="name-on-card">
                <label for="name-on-card">Name On Card</label>
            </div>
            <label>

                <label id="card-details-label">
                    <div class="form-floating mb-3 mt-3">
                        <input type="text" class="form-control" id="card-number" placeholder="Enter card Number" name="card-number">
                        <label for="card-number">Card Number</label>
                    </div>
                    <label id="card-details-label-inner">
                        <div class="form-floating mb-3 mt-3">
                            <input type="text" class="form-control" id="month" placeholder="Enter Month" name="month">
                            <label for="month">Month</label>
                        </div>
                        <div class="form-floating mb-3 mt-3">
                            <input type="text" class="form-control" id="year" placeholder="Enter Year" name="year">
                            <label for="year">Year</label>
                        </div>
                        <div class="form-floating mb-3 mt-3">
                            <input type="text" class="form-control" id="cvv" placeholder="Enter CVV" name="cvv">
                            <label for="cvv">CVV</label>
                        </div>

                    </label>
                </label>
            </label>
        </section>
        <input type="submit" value="Update" class="btn btn-secondary btn-lg">
    </form>
</article>

<footer-component></footer-component>

</body>
<script type="module" th:inline="javascript">
    import {setCookie, getCookie} from "/js_file/anonymous_user_cookie.js";

    const secret =/*[[${secret}]]*/ null;
    const login_username = /*[[${username}]]*/ null;
    const userId = "user12345";
    // console.log(secret);
    if (getCookie(userId) !== secret || getCookie(userId) == null || getCookie(userId) === "") {

        setCookie(userId, secret, 30);
        //location.reload();
    }
    sessionStorage.setItem("login-username", login_username);


    //document.cookie = userId+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
    // Function to delete all cookies
    // function deleteAllCookies() {
    //     var cookies = document.cookie.split(";");
    //
    //     for (let i = 0; i < cookies.length; i++) {
    //         let cookie = cookies[i];
    //         let eqPos = cookie.indexOf("=");
    //         let name = eqPos > -1 ? cookie.substring(0, eqPos) : cookie;
    //         document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT";
    //     }
    // }
    //
    // // Call the function to delete all cookies
    // deleteAllCookies();

</script>
</html>